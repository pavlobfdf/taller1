<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Catálogo · FitExpress</title>
  <style>

    :root{ --bg:#f6f7fb; --card:#fff; --ink:#0f172a; --muted:#6b7280; --border:#e5e7eb; --brand:#2563eb; --ok:#16a34a; --err:#b91c1c }
    *{box-sizing:border-box}
    body{margin:0; font-family:Arial, system-ui, sans-serif; background:var(--bg); color:var(--ink)}
    .wrap{max-width:1000px; margin:24px auto; padding:0 16px; display:grid; grid-template-columns: 220px 1fr; gap:16px}
    @media (max-width: 820px){ .wrap{grid-template-columns:1fr} }

    .card{background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:0 2px 8px rgba(0,0,0,.04)}
    .pane{padding:14px}

    .side h3{margin:4px 0 10px 0; font-size:14px; color:var(--muted)}
    .side ul{list-style:none; padding:0; margin:0; display:grid; gap:6px}
    .side a{display:block; padding:8px 10px; border-radius:8px; color:inherit; text-decoration:none}
    .side a.active, .side a:hover{background:#f3f4f6}


    .toolbar{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
    .toolbar input{flex:1; min-width:200px; padding:10px; border:1px solid var(--border); border-radius:8px}
    .toolbar button{padding:10px 14px; border:0; border-radius:8px; background:var(--brand); color:#fff; cursor:pointer}


    .grid{display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap:14px; margin-top:12px}
    .p{border:1px solid var(--border); border-radius:12px; padding:10px; background:#fff}
    .ph{height:120px; background:#f1f5f9; border-radius:8px; margin-bottom:8px}
    .p h4{margin:0 0 6px 0; font-size:16px}
    .price{color:#111827; font-weight:700; margin-bottom:8px}
    .add{padding:8px 10px; border:0; border-radius:8px; background:#16a34a; color:#fff; cursor:pointer}
    .add[disabled]{background:#e5e7eb; color:#6b7280; cursor:not-allowed}
    .tag{display:inline-block; padding:6px 8px; font-size:12px; border-radius:6px; background:#fee2e2; color:#7f1d1d}


    .msg{display:none; margin-top:10px; padding:10px; border-radius:8px}
    .msg.ok{background:#dcfce7; color:#065f46}
    .msg.none{background:#fef3c7; color:#92400e}
    .show{display:block}
  </style>
</head>
<body>
  <main class="wrap">

    <aside class="card side">
      <div class="pane">
        <h3>Categorías</h3>
        <ul id="cats"></ul>
      </div>
    </aside>


    <section class="card">
      <div class="pane">
        <div class="toolbar">
          <label for="q" style="font-size:14px;color:var(--muted)">Buscar</label>
          <input id="q" type="search" placeholder="pollo" />
          <button id="b">Buscar</button>
        </div>
        <div id="m-ok" class="msg ok">Resultados encontrados</div>
        <div id="m-none" class="msg none">Sin resultados</div>

        <div id="grid" class="grid"></div>
      </div>
    </section>
  </main>

  <script>

    const products = [
      { id:1, name:'Bowl Proteico', price:6990, stock:5, category:'Bowls' },
      { id:2, name:'Bowl Vegano', price:6490, stock:0, category:'Bowls' },
      { id:3, name:'Snack Proteico', price:2990, stock:12, category:'Snacks' },
      { id:4, name:'Extra Palta', price:990, stock:30, category:'Extras' },
      { id:5, name:'Bowl Pollo Thai', price:6990, stock:2, category:'Bowls' },
    ];

    const categories = ['Todos','Bowls','Snacks','Extras'];
    let currentCat = 'Todos';

    const cats = document.getElementById('cats');
    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const b = document.getElementById('b');
    const mOk = document.getElementById('m-ok');
    const mNone = document.getElementById('m-none');


    function renderCats(){
      cats.innerHTML = '';
      categories.forEach(c => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = '#';
        a.textContent = c;
        a.className = (c===currentCat ? 'active' : '');
        a.addEventListener('click', (e)=>{ e.preventDefault(); currentCat = c; filter(); highlightCat(); });
        li.appendChild(a); cats.appendChild(li);
      });
    }
    function highlightCat(){
      cats.querySelectorAll('a').forEach(a=>{ a.classList.toggle('active', a.textContent===currentCat); });
    }


    function price(n){ return new Intl.NumberFormat('es-CL',{style:'currency',currency:'CLP',maximumFractionDigits:0}).format(n); }

    function render(list){
      grid.innerHTML = '';
      list.forEach(p => {
        const card = document.createElement('div'); card.className = 'p';
        const ph = document.createElement('div'); ph.className = 'ph'; card.appendChild(ph);
        const h4 = document.createElement('h4'); h4.textContent = p.name; card.appendChild(h4);
        const pr = document.createElement('div'); pr.className='price'; pr.textContent = price(p.price); card.appendChild(pr);
        if(p.stock > 0){
          const btn = document.createElement('button'); btn.className='add'; btn.textContent='Agregar';
          btn.addEventListener('click', ()=> alert('Agregado: '+p.name));
          card.appendChild(btn);
        }else{
          const tag = document.createElement('span'); tag.className='tag'; tag.textContent='Agotado'; card.appendChild(tag);
        }
        grid.appendChild(card);
      });
    }

    function filter(){
      const term = q.value.trim().toLowerCase();
      let list = products.filter(p => (currentCat==='Todos' || p.category===currentCat));
      if(term){ list = list.filter(p => p.name.toLowerCase().includes(term)); }
      mOk.classList.remove('show'); mNone.classList.remove('show');
      if(list.length){ mOk.classList.add('show'); render(list); }
      else{ render([]); mNone.classList.add('show'); }
    }


    b.addEventListener('click', filter);
    q.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); filter(); } });


    renderCats();
    filter();
  </script>
</body>
</html>